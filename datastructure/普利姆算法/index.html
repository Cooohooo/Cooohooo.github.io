<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>普利姆算法 | Cary</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="专注于记录一些从开始到入门踩过的坑">
    <link rel="preload" href="/assets/css/0.styles.b8e99327.css" as="style"><link rel="preload" href="/assets/js/app.b1624e8e.js" as="script"><link rel="preload" href="/assets/js/2.12e8692c.js" as="script"><link rel="preload" href="/assets/js/25.806070ea.js" as="script"><link rel="prefetch" href="/assets/js/10.eff93b86.js"><link rel="prefetch" href="/assets/js/11.793fbf77.js"><link rel="prefetch" href="/assets/js/12.4a71ec38.js"><link rel="prefetch" href="/assets/js/13.093a470d.js"><link rel="prefetch" href="/assets/js/14.c529c00a.js"><link rel="prefetch" href="/assets/js/15.9cc56e10.js"><link rel="prefetch" href="/assets/js/16.f161731c.js"><link rel="prefetch" href="/assets/js/17.438c44df.js"><link rel="prefetch" href="/assets/js/18.c02afc3a.js"><link rel="prefetch" href="/assets/js/19.c4b19fba.js"><link rel="prefetch" href="/assets/js/20.dec86c76.js"><link rel="prefetch" href="/assets/js/21.1b6d07c1.js"><link rel="prefetch" href="/assets/js/22.44c5118e.js"><link rel="prefetch" href="/assets/js/23.4da8ff8e.js"><link rel="prefetch" href="/assets/js/24.fdc9730d.js"><link rel="prefetch" href="/assets/js/26.d8d44464.js"><link rel="prefetch" href="/assets/js/27.03a5f16f.js"><link rel="prefetch" href="/assets/js/28.e9711547.js"><link rel="prefetch" href="/assets/js/29.c20512e0.js"><link rel="prefetch" href="/assets/js/3.964ad172.js"><link rel="prefetch" href="/assets/js/30.ff71561f.js"><link rel="prefetch" href="/assets/js/31.44701f47.js"><link rel="prefetch" href="/assets/js/32.060499f3.js"><link rel="prefetch" href="/assets/js/33.c8f8e25c.js"><link rel="prefetch" href="/assets/js/34.484e7f5b.js"><link rel="prefetch" href="/assets/js/35.d0e86e52.js"><link rel="prefetch" href="/assets/js/36.6e9c597a.js"><link rel="prefetch" href="/assets/js/37.d0ea72cc.js"><link rel="prefetch" href="/assets/js/38.635da6e1.js"><link rel="prefetch" href="/assets/js/39.c6c12926.js"><link rel="prefetch" href="/assets/js/4.9e3305df.js"><link rel="prefetch" href="/assets/js/40.77988a3a.js"><link rel="prefetch" href="/assets/js/41.09ced7b0.js"><link rel="prefetch" href="/assets/js/42.f0c83ede.js"><link rel="prefetch" href="/assets/js/43.8433eb78.js"><link rel="prefetch" href="/assets/js/44.9a1d5c63.js"><link rel="prefetch" href="/assets/js/45.cb79a166.js"><link rel="prefetch" href="/assets/js/5.536117a3.js"><link rel="prefetch" href="/assets/js/6.fdeca71c.js"><link rel="prefetch" href="/assets/js/7.b91670df.js"><link rel="prefetch" href="/assets/js/8.53ae3032.js"><link rel="prefetch" href="/assets/js/9.2475cef8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b8e99327.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Cary</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  目录
</a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  目录
</a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>普利姆算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/datastructure/%E6%99%AE%E5%88%A9%E5%A7%86%E7%AE%97%E6%B3%95/#普里姆算法步骤" class="sidebar-link">普里姆算法步骤</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/datastructure/%E6%99%AE%E5%88%A9%E5%A7%86%E7%AE%97%E6%B3%95/#普里姆算法示例" class="sidebar-link">普里姆算法示例</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/datastructure/%E6%99%AE%E5%88%A9%E5%A7%86%E7%AE%97%E6%B3%95/#普里姆代码讲解" class="sidebar-link">普里姆代码讲解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/datastructure/%E6%99%AE%E5%88%A9%E5%A7%86%E7%AE%97%E6%B3%95/#代码解释" class="sidebar-link">代码解释</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="普利姆算法"><a href="#普利姆算法" class="header-anchor">#</a> 普利姆算法</h1> <p><em>总结每一步更新矩阵的值，以及最重要的是不能产生环形树</em></p> <h2 id="普里姆算法步骤"><a href="#普里姆算法步骤" class="header-anchor">#</a> 普里姆算法步骤</h2> <ul><li>选取权值最小边的其中一个顶点作为起始点</li> <li>找到离当前顶点权值最小的边，并记录该顶点为已选择</li> <li>重复第二步，直到找到所有顶点，就找到了图的最小生成树</li></ul> <h2 id="普里姆算法示例"><a href="#普里姆算法示例" class="header-anchor">#</a> 普里姆算法示例</h2> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/16a4e34abfcde3b3.png" alt="16a4e34abfcde3b3"> <br>根据上面加权连通图找到最小生成树。
首先选择顶点 A 作为起点。顶点 D、F、B 与 A 相连，且 AD 之间的权值最小，因此选择这条边。此时 A、D 为已选择顶点，E、F、B 为待选择顶点，H、G 为未选择顶点。<br></p> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/%E6%99%AE%E5%88%A9%E5%A7%862.png" alt="普利姆2"> <br>下一个顶点应选择离 A、D 权值最小的顶点，因此选择 AB 这条边。此时 A、D、B 为已选择顶点，E、F、G 为待选择顶点，H 为未选择顶点。<br></p> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/%E6%99%AE%E5%88%A9%E5%A7%863.png" alt="普利姆3"> <br>下一个顶点应选择离 A、D、B 权值最小的顶点，因此选择 DE 这条边。此时 A、D、B、E 为已选择顶点，F、G、H 为待选择顶点，没有未选择顶点。<br></p> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/%E6%99%AE%E5%88%A9%E5%A7%864.png" alt="普利姆4"> <br>下一个顶点应选择离 A、D、B、E 权值最小的顶点，因此选择 EH 这条边。此时 A、D、B、E、H 为已选择顶点，F、G 为待选择顶点，没有未选择顶点。<br></p> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/%E6%99%AE%E5%88%A9%E5%A7%865.png" alt="普利姆5"> <br>下一个顶点应选择离 A、D、B、E、H 权值最小的顶点，因此选择 FH 这条边。此时 A、D、B、E、H、F 为已选择顶点，G 为待选择顶点，没有未选择顶点。<br></p> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/%E6%99%AE%E5%88%A9%E5%A7%866.png" alt="普利姆6"> <br>最后，只剩下一个顶点 G，到顶点 G 的权值最小的是 HG。现在图中所有顶点都连接了，红色连接的边就是最小生成树，最小生成树的权值之和为 42。<br></p> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/%E6%99%AE%E5%88%A9%E5%A7%867.png" alt="普利姆7"></p> <h2 id="普里姆代码讲解"><a href="#普里姆代码讲解" class="header-anchor">#</a> 普里姆代码讲解</h2> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/%E6%99%AE%E5%88%A9%E5%A7%868.png" alt="普利姆8"></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">MiniSpanTree_Prim</span><span class="token punctuation">(</span>MGraph G<span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">int</span> min<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">;</span>

    <span class="token keyword">int</span> adjvex<span class="token punctuation">[</span>MAXVEX<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 保存相关顶点的下标</span>
    <span class="token keyword">int</span> lowcost<span class="token punctuation">[</span>MAXVEX<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 保存相关顶点间边的权值</span>

    lowcost<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// 初始化第一个权值为0，即v0加入生成树</span>
    adjvex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 初始化第一个顶点下标为0</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>numVertexes<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 循环除下标为0外的全部顶点</span>
        lowcost<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> G<span class="token punctuation">.</span>arc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// 将v0顶点与之右边的权值存入数组</span>
        adjvex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 初始化都为v0的下标</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>numVertexes<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        min <span class="token operator">=</span> INIFINTY<span class="token punctuation">;</span> <span class="token comment">//初始化最小权值</span>
        j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>numVertexes<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 循环全部顶点</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>lowcost<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> lowcost<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                min <span class="token operator">=</span> lowcost<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// 让当前权值变为最小值</span>
                k <span class="token operator">=</span> j<span class="token punctuation">;</span>  <span class="token comment">// 将当前最小值的下标存入k</span>
            <span class="token punctuation">}</span>
            j<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;(%d, %d)\n&quot;</span><span class="token punctuation">,</span> adjvex<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 打印当前顶点中权值最小的边</span>
        lowcost<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>             <span class="token comment">// 将当前顶点的权值设置为0，表示此顶点已经完成任务</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>numVertexes<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 循环所有顶点</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>lowcost<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> G<span class="token punctuation">.</span>arc<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> lowcost<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 如果下标为k顶点各边权值小于当前这些顶点未被加入生成树权值</span>
                lowcost<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> G<span class="token punctuation">.</span>arc<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 将较小的权值存入lowcost相应的位置</span>
                adjvex<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>   <span class="token comment">// 将下标为k的顶点存入adjvex</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="代码解释"><a href="#代码解释" class="header-anchor">#</a> 代码解释</h2> <ul><li>创建了两个数组 adjvex 和 lowcost。adjvex[0] = 0 意思就是从 V0 开始，lowcost[0] = 0 表示 V0 已经被纳入到最小生成树中。之后凡是 lowcost 数组中的值被设置为 0 就是表示此下标的顶点被纳入最小生成树。</li> <li>普里姆算法的时间复杂度为 O(n^2)，因为是两层循环嵌套。</li></ul> <p>我们创建了两个一维数组 adjvex 和 lowcost<br></p> <p>我们分别给这两个数组第一个下标位赋值为 0，adjvex[0] = 0 其实意思就是我们现在从顶点 v0 开始，lowcost[0] = 0 就表示 v0 已经被纳入最小生成树之中之后凡是 lowcost 数组中的值被设置为 0 就是表示此下标的顶点被纳入最小生成树<br></p> <p>接着我们读取邻接矩阵的第一行数据将数值赋值给 lowcost 数组，所以此时 lowcost 数组为{0, 10, 65535, 65535, 65535, 11, 65535, 65535, 65535}, 而 adjvex 全部为 0，初始化工作完成<br></p> <p>将 min 设置为 65535 一个极大值，他的目的是找到一定范围内的最小值，j 是用来做顶点下标循环的变量，k 是用来储存最小权值的顶点下标，循环中不断修改 min 为当前 lowcost 数组中的最小值，k 保存此最小值的顶点下标<br></p> <p>经过循环后，min = 10，k = 1，此时 k = 1，我们将 lowcost[k] = 0 就是说顶点 v1 纳入到最小生成树中，此时 lowcost 的值为{0, 0, 65535, 65535, 65535, 11, 65535, 65535, 65535}<br></p> <p>j 循环由 1 至 8，因为 k = 1，查找邻接矩阵的 v1 行的各个权值，与 lowcost 的对应值比较，若更小则修改 lowcost 值，并将 k 值存入 adjvex 数组中，因第 v1 行有 18，16，12 均比 65535 小，所以 lowcost 数组修改为{ 0, 0, 18, 65535, 65535, 11, 16, 65535, 12 }，adjvex 数组的值为{ 0,0,1,0,0,0,1,0,1 }<br></p> <p>再次循环，此时 min = 11，k = 5，adjvex[5] = 0，</p> <p><img src="https://raw.githubusercontent.com/Cooohooo/cary-notebook-image/master/images/%E6%99%AE%E5%88%A9%E5%A7%869.png" alt="普利姆9"></p> <p>因为 k = 5，查找邻接矩阵的 v5 行的各个权值，再次更新 lowcost 数组的数值，lowcost 为{ 0, 0, 18, 65535, 26, 0, 16, 65535, 12 }， adjvex 的值为 { 0，0，1，0，5，0，1，0，1 }</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b1624e8e.js" defer></script><script src="/assets/js/2.12e8692c.js" defer></script><script src="/assets/js/25.806070ea.js" defer></script>
  </body>
</html>
